package com.p2082ss.android.ugc.aweme.shortvideo.p3876ui.permissionmanager;

import android.content.Context;
import android.content.Intent;
import androidx.fragment.app.ActivityC0945e;
import com.bytedance.covode.number.Covode;
import com.bytedance.tux.dialog.C23013a;
import com.bytedance.tux.dialog.C23023b;
import com.bytedance.tux.dialog.p1713b.C23024a;
import com.bytedance.tux.dialog.p1713b.C23025b;
import com.bytedance.tux.dialog.p1713b.C23028c;
import com.p2082ss.android.ugc.aweme.common.C39162r;
import com.p2082ss.android.ugc.aweme.port.p3561in.AbstractC63264v;
import com.p2082ss.android.ugc.aweme.port.p3561in.C63238c;
import com.p2082ss.android.ugc.aweme.port.p3561in.C63253l;
import com.p2082ss.android.ugc.trill.R;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.Map;
import p4600h.C89387v;
import p4600h.C89391z;
import p4600h.p4601a.C89041ag;
import p4600h.p4601a.C89070n;
import p4600h.p4611f.p4612a.AbstractC89171a;
import p4600h.p4611f.p4612a.AbstractC89172b;
import p4600h.p4611f.p4612a.AbstractC89183m;
import p4600h.p4611f.p4613b.AbstractC89220m;
import p4600h.p4611f.p4613b.C89219l;

/* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g */
public final class C73773g {

    /* renamed from: a */
    public static final C73773g f165630a = new C73773g();

    /* access modifiers changed from: package-private */
    /* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g$c */
    public static final class C73776c extends AbstractC89220m implements AbstractC89171a<C89391z> {

        /* renamed from: a */
        public static final C73776c f165639a = new C73776c();

        static {
            Covode.recordClassIndex(86515);
        }

        C73776c() {
            super(0);
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        @Override // p4600h.p4611f.p4612a.AbstractC89171a
        public final /* bridge */ /* synthetic */ C89391z invoke() {
            return C89391z.f203057a;
        }
    }

    /* access modifiers changed from: package-private */
    /* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g$d */
    public static final class C73777d extends AbstractC89220m implements AbstractC89171a<C89391z> {

        /* renamed from: a */
        public static final C73777d f165640a = new C73777d();

        static {
            Covode.recordClassIndex(86516);
        }

        C73777d() {
            super(0);
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        @Override // p4600h.p4611f.p4612a.AbstractC89171a
        public final /* bridge */ /* synthetic */ C89391z invoke() {
            return C89391z.f203057a;
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g$f */
    public static final class C73779f extends AbstractC89220m implements AbstractC89171a<C89391z> {

        /* renamed from: a */
        public static final C73779f f165644a = new C73779f();

        static {
            Covode.recordClassIndex(86518);
        }

        C73779f() {
            super(0);
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        @Override // p4600h.p4611f.p4612a.AbstractC89171a
        public final /* bridge */ /* synthetic */ C89391z invoke() {
            return C89391z.f203057a;
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g$g */
    public static final class C73780g extends AbstractC89220m implements AbstractC89171a<C89391z> {

        /* renamed from: a */
        public static final C73780g f165645a = new C73780g();

        static {
            Covode.recordClassIndex(86519);
        }

        C73780g() {
            super(0);
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        @Override // p4600h.p4611f.p4612a.AbstractC89171a
        public final /* bridge */ /* synthetic */ C89391z invoke() {
            return C89391z.f203057a;
        }
    }

    /* access modifiers changed from: package-private */
    /* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g$h */
    public static final class C73781h extends AbstractC89220m implements AbstractC89171a<C89391z> {

        /* renamed from: a */
        public static final C73781h f165646a = new C73781h();

        static {
            Covode.recordClassIndex(86520);
        }

        C73781h() {
            super(0);
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        @Override // p4600h.p4611f.p4612a.AbstractC89171a
        public final /* bridge */ /* synthetic */ C89391z invoke() {
            return C89391z.f203057a;
        }
    }

    private C73773g() {
    }

    static {
        Covode.recordClassIndex(86512);
    }

    /* access modifiers changed from: package-private */
    /* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g$i */
    public static final class C73782i extends AbstractC89220m implements AbstractC89172b<C23013a, C89391z> {

        /* renamed from: a */
        final /* synthetic */ AbstractC89171a f165647a;

        static {
            Covode.recordClassIndex(86521);
        }

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        C73782i(AbstractC89171a aVar) {
            super(1);
            this.f165647a = aVar;
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
        @Override // p4600h.p4611f.p4612a.AbstractC89172b
        public final /* synthetic */ C89391z invoke(C23013a aVar) {
            C89219l.m154721d(aVar, "");
            this.f165647a.invoke();
            return C89391z.f203057a;
        }
    }

    /* access modifiers changed from: package-private */
    /* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g$j */
    public static final class C73783j extends AbstractC89220m implements AbstractC89172b<C23025b, C89391z> {

        /* renamed from: a */
        final /* synthetic */ String[] f165648a;

        /* renamed from: b */
        final /* synthetic */ ActivityC0945e f165649b;

        /* renamed from: c */
        final /* synthetic */ AbstractC89171a f165650c;

        static {
            Covode.recordClassIndex(86522);
        }

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        C73783j(String[] strArr, ActivityC0945e eVar, AbstractC89171a aVar) {
            super(1);
            this.f165648a = strArr;
            this.f165649b = eVar;
            this.f165650c = aVar;
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
        @Override // p4600h.p4611f.p4612a.AbstractC89172b
        public final /* synthetic */ C89391z invoke(C23025b bVar) {
            C23025b bVar2 = bVar;
            C89219l.m154721d(bVar2, "");
            bVar2.mo37416a(R.string.g7k, new AbstractC89172b<C23024a, C89391z>(this) {
                /* class com.p2082ss.android.ugc.aweme.shortvideo.p3876ui.permissionmanager.C73773g.C73783j.C737841 */

                /* renamed from: a */
                final /* synthetic */ C73783j f165651a;

                static {
                    Covode.recordClassIndex(86523);
                }

                {
                    this.f165651a = r2;
                }

                /* Return type fixed from 'java.lang.Object' to match base method */
                /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
                @Override // p4600h.p4611f.p4612a.AbstractC89172b
                public final /* synthetic */ C89391z invoke(C23024a aVar) {
                    C23024a aVar2 = aVar;
                    C89219l.m154721d(aVar2, "");
                    String[] strArr = this.f165651a.f165648a;
                    ActivityC0945e eVar = this.f165651a.f165649b;
                    C89219l.m154721d(strArr, "");
                    C89219l.m154721d(eVar, "");
                    C39162r.m79460a("go_to_settings_action", C73765b.m129817d(strArr, eVar));
                    aVar2.f54509b = false;
                    C63253l.f143623a.mo73307c().mo101675d(this.f165651a.f165649b);
                    return C89391z.f203057a;
                }
            });
            bVar2.mo37418b(R.string.g7j, new AbstractC89172b<C23024a, C89391z>(this) {
                /* class com.p2082ss.android.ugc.aweme.shortvideo.p3876ui.permissionmanager.C73773g.C73783j.C737852 */

                /* renamed from: a */
                final /* synthetic */ C73783j f165652a;

                static {
                    Covode.recordClassIndex(86524);
                }

                {
                    this.f165652a = r2;
                }

                /* Return type fixed from 'java.lang.Object' to match base method */
                /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
                @Override // p4600h.p4611f.p4612a.AbstractC89172b
                public final /* synthetic */ C89391z invoke(C23024a aVar) {
                    C89219l.m154721d(aVar, "");
                    this.f165652a.f165650c.invoke();
                    return C89391z.f203057a;
                }
            });
            return C89391z.f203057a;
        }
    }

    /* renamed from: a */
    public static Map<String, String> m129831a(Context context) {
        C89219l.m154721d(context, "");
        return C89041ag.m154421a(C89387v.m154943a("android.permission.CAMERA", context.getString(R.string.g7m)), C89387v.m154943a("android.permission.RECORD_AUDIO", context.getString(R.string.g7q)), C89387v.m154943a("android.permission.WRITE_EXTERNAL_STORAGE", context.getString(R.string.g7o)));
    }

    /* access modifiers changed from: package-private */
    /* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g$e */
    public static final class C73778e extends AbstractC89220m implements AbstractC89183m<String[], int[], C89391z> {

        /* renamed from: a */
        final /* synthetic */ ActivityC0945e f165641a;

        /* renamed from: b */
        final /* synthetic */ AbstractC89171a f165642b;

        /* renamed from: c */
        final /* synthetic */ AbstractC89171a f165643c;

        static {
            Covode.recordClassIndex(86517);
        }

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        C73778e(ActivityC0945e eVar, AbstractC89171a aVar, AbstractC89171a aVar2) {
            super(2);
            this.f165641a = eVar;
            this.f165642b = aVar;
            this.f165643c = aVar2;
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object, java.lang.Object] */
        @Override // p4600h.p4611f.p4612a.AbstractC89183m
        public final /* synthetic */ C89391z invoke(String[] strArr, int[] iArr) {
            C73773g.m129835a(this.f165641a, this.f165642b, this.f165643c);
            return C89391z.f203057a;
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g$a */
    public static final class C73774a implements AbstractC63264v.AbstractC63265a {

        /* renamed from: a */
        final /* synthetic */ ActivityC0945e f165631a;

        /* renamed from: b */
        final /* synthetic */ AbstractC63264v.AbstractC63265a f165632b;

        /* renamed from: c */
        final /* synthetic */ AbstractC89183m f165633c;

        static {
            Covode.recordClassIndex(86513);
        }

        @Override // com.p2082ss.android.ugc.aweme.port.p3561in.AbstractC63264v.AbstractC63265a
        /* renamed from: a */
        public final void mo87657a(String[] strArr, int[] iArr) {
            C73765b.m129814a(strArr, iArr, this.f165631a);
            if (C73772f.m129824a(iArr)) {
                this.f165632b.mo87657a(strArr, iArr);
            } else {
                this.f165633c.invoke(strArr, iArr);
            }
        }

        C73774a(ActivityC0945e eVar, AbstractC63264v.AbstractC63265a aVar, AbstractC89183m mVar) {
            this.f165631a = eVar;
            this.f165632b = aVar;
            this.f165633c = mVar;
        }
    }

    /* access modifiers changed from: package-private */
    /* renamed from: com.ss.android.ugc.aweme.shortvideo.ui.permissionmanager.g$b */
    public static final class C73775b extends AbstractC89220m implements AbstractC89183m<String[], int[], C89391z> {

        /* renamed from: a */
        final /* synthetic */ ActivityC0945e f165634a;

        /* renamed from: b */
        final /* synthetic */ String[] f165635b;

        /* renamed from: c */
        final /* synthetic */ Map f165636c;

        /* renamed from: d */
        final /* synthetic */ AbstractC89171a f165637d;

        /* renamed from: e */
        final /* synthetic */ AbstractC89171a f165638e;

        static {
            Covode.recordClassIndex(86514);
        }

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        C73775b(ActivityC0945e eVar, String[] strArr, Map map, AbstractC89171a aVar, AbstractC89171a aVar2) {
            super(2);
            this.f165634a = eVar;
            this.f165635b = strArr;
            this.f165636c = map;
            this.f165637d = aVar;
            this.f165638e = aVar2;
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object, java.lang.Object] */
        @Override // p4600h.p4611f.p4612a.AbstractC89183m
        public final /* synthetic */ C89391z invoke(String[] strArr, int[] iArr) {
            String[] a = C73772f.m129826a(strArr, iArr);
            ActivityC0945e eVar = this.f165634a;
            String[] strArr2 = this.f165635b;
            String string = eVar.getString(R.string.g7r);
            C89219l.m154716b(string, "");
            C73773g.m129838a(eVar, strArr2, string, C73773g.m129830a(this.f165634a, this.f165636c, a), this.f165637d, this.f165638e);
            return C89391z.f203057a;
        }
    }

    /* renamed from: a */
    public static void m129834a(ActivityC0945e eVar, AbstractC89171a<C89391z> aVar) {
        C89219l.m154721d(eVar, "");
        C89219l.m154721d(aVar, "");
        Intent intent = eVar.getIntent();
        C89219l.m154716b(intent, "");
        String[] a = C73771e.m129820a(intent);
        if (!C73772f.m129825a(a)) {
            String[] b = C73772f.m129828b(a);
            Map<String, String> a2 = m129831a(eVar);
            String string = eVar.getString(R.string.g7r);
            C89219l.m154716b(string, "");
            m129837a(eVar, b, string, m129830a(eVar, a2, b), aVar);
        }
    }

    /* renamed from: a */
    public static String m129830a(Context context, Map<String, String> map, String[] strArr) {
        int length = strArr.length;
        if (length == 1) {
            String string = context.getString(R.string.g7s, map.get(strArr[0]));
            C89219l.m154716b(string, "");
            return string;
        } else if (length == 2) {
            String string2 = context.getString(R.string.g7t, map.get(strArr[0]), map.get(strArr[1]));
            C89219l.m154716b(string2, "");
            return string2;
        } else if (length != 3) {
            return "";
        } else {
            String string3 = context.getString(R.string.g7u, map.get(strArr[0]), map.get(strArr[1]), map.get(strArr[2]));
            C89219l.m154716b(string3, "");
            return string3;
        }
    }

    /* renamed from: a */
    public static void m129835a(ActivityC0945e eVar, AbstractC89171a<C89391z> aVar, AbstractC89171a<C89391z> aVar2) {
        C89219l.m154721d(eVar, "");
        C89219l.m154721d(aVar, "");
        C89219l.m154721d(aVar2, "");
        String string = eVar.getString(R.string.g7h);
        C89219l.m154716b(string, "");
        String string2 = eVar.getString(R.string.g7g);
        C89219l.m154716b(string2, "");
        m129838a(eVar, new String[]{"android.permission.WRITE_EXTERNAL_STORAGE"}, string, string2, aVar, aVar2);
    }

    /* renamed from: a */
    public static void m129833a(ActivityC0945e eVar, AbstractC63264v.AbstractC63265a aVar, AbstractC89171a<C89391z> aVar2, AbstractC89171a<C89391z> aVar3) {
        C89219l.m154721d(eVar, "");
        C89219l.m154721d(aVar, "");
        C89219l.m154721d(aVar2, "");
        C89219l.m154721d(aVar3, "");
        m129836a(eVar, new String[]{"android.permission.WRITE_EXTERNAL_STORAGE"}, new C73778e(eVar, aVar2, aVar3), aVar);
    }

    /* renamed from: a */
    private static void m129836a(ActivityC0945e eVar, String[] strArr, AbstractC89183m<? super String[], ? super int[], C89391z> mVar, AbstractC63264v.AbstractC63265a aVar) {
        if (C73772f.m129825a(strArr)) {
            ArrayList arrayList = new ArrayList(strArr.length);
            int length = strArr.length;
            for (int i = 0; i < length; i++) {
                arrayList.add(0);
            }
            aVar.mo87657a(strArr, C89070n.m154578e((Collection<Integer>) arrayList));
        } else if (C63238c.f143566D.mo73307c().mo101671a()) {
            C73765b.m129813a(strArr, eVar);
            C63238c.f143565C.mo73274b().mo101758a(eVar, new C73774a(eVar, aVar, mVar), (String[]) Arrays.copyOf(strArr, strArr.length));
        } else {
            mVar.invoke(strArr, null);
        }
    }

    /* renamed from: a */
    private static /* synthetic */ void m129837a(ActivityC0945e eVar, String[] strArr, String str, String str2, AbstractC89171a aVar) {
        m129838a(eVar, strArr, str, str2, C73781h.f165646a, aVar);
    }

    /* renamed from: a */
    public static void m129838a(ActivityC0945e eVar, String[] strArr, String str, String str2, AbstractC89171a<C89391z> aVar, AbstractC89171a<C89391z> aVar2) {
        C73765b.m129815b(strArr, eVar);
        AutoDismissPermissionDialog autoDismissPermissionDialog = new AutoDismissPermissionDialog(eVar, C23028c.m43435a(new C23023b(eVar).mo37411b(str).mo37413d(str2), new C73783j(strArr, eVar, aVar)));
        autoDismissPermissionDialog.f165614b = new C73782i(aVar2);
        autoDismissPermissionDialog.mo116236a();
    }

    /* renamed from: a */
    public static void m129839a(ActivityC0945e eVar, String[] strArr, Map<String, String> map, AbstractC63264v.AbstractC63265a aVar, AbstractC89171a<C89391z> aVar2, AbstractC89171a<C89391z> aVar3) {
        C89219l.m154721d(eVar, "");
        C89219l.m154721d(strArr, "");
        C89219l.m154721d(map, "");
        C89219l.m154721d(aVar, "");
        C89219l.m154721d(aVar2, "");
        C89219l.m154721d(aVar3, "");
        m129836a(eVar, strArr, new C73775b(eVar, strArr, map, aVar2, aVar3), aVar);
    }
}
