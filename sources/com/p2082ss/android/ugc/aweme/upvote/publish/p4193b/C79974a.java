package com.p2082ss.android.ugc.aweme.upvote.publish.p4193b;

import android.app.Activity;
import android.content.Context;
import android.content.ContextWrapper;
import android.os.Bundle;
import androidx.fragment.app.ActivityC0945e;
import com.bytedance.covode.number.Covode;
import com.bytedance.tux.icon.TuxIconView;
import com.bytedance.tux.input.TuxEditText;
import com.bytedance.tux.input.TuxTextView;
import com.p2082ss.android.ugc.aweme.IAccountUserService;
import com.p2082ss.android.ugc.aweme.account.C31575b;
import com.p2082ss.android.ugc.aweme.base.C34602l;
import com.p2082ss.android.ugc.aweme.base.C34735v;
import com.p2082ss.android.ugc.aweme.base.utils.C34722h;
import com.p2082ss.android.ugc.aweme.common.C39162r;
import com.p2082ss.android.ugc.aweme.profile.model.User;
import com.p2082ss.android.ugc.aweme.upvote.event.UpvotePublishMobParam;
import com.p2082ss.android.ugc.aweme.upvote.p4188b.C79706b;
import com.p2082ss.android.ugc.aweme.upvote.p4191e.C79895a;
import com.p2082ss.android.ugc.aweme.upvote.publish.p4192a.C79926a;
import com.p2082ss.android.ugc.aweme.upvote.publish.p4192a.C79964d;
import com.p2082ss.android.ugc.trill.R;
import java.util.LinkedHashMap;
import p4600h.AbstractC89244h;
import p4600h.C89250i;
import p4600h.C89391z;
import p4600h.p4611f.p4612a.AbstractC89171a;
import p4600h.p4611f.p4613b.AbstractC89220m;
import p4600h.p4611f.p4613b.C89219l;

/* renamed from: com.ss.android.ugc.aweme.upvote.publish.b.a */
public final class C79974a {

    /* renamed from: c */
    public static final C79975a f179271c = new C79975a((byte) 0);

    /* renamed from: a */
    public AbstractC89171a<C89391z> f179272a;

    /* renamed from: b */
    final Context f179273b;

    /* renamed from: d */
    private AbstractC89171a<C89391z> f179274d;

    /* renamed from: e */
    private final AbstractC89244h f179275e = C89250i.m154773a((AbstractC89171a) new C79980f(this));

    /* renamed from: f */
    private final String f179276f;

    /* renamed from: g */
    private final UpvotePublishMobParam f179277g;

    static {
        Covode.recordClassIndex(93201);
    }

    /* renamed from: a */
    public final C79964d mo123457a() {
        return (C79964d) this.f179275e.getValue();
    }

    /* renamed from: com.ss.android.ugc.aweme.upvote.publish.b.a$a */
    public static final class C79975a {
        static {
            Covode.recordClassIndex(93202);
        }

        private C79975a() {
        }

        public /* synthetic */ C79975a(byte b) {
            this();
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.upvote.publish.b.a$b */
    static final class C79976b extends AbstractC89220m implements AbstractC89171a<C89391z> {

        /* renamed from: a */
        final /* synthetic */ C79974a f179278a;

        /* renamed from: b */
        final /* synthetic */ String f179279b;

        /* renamed from: c */
        final /* synthetic */ String f179280c;

        /* renamed from: d */
        final /* synthetic */ String f179281d;

        /* renamed from: e */
        final /* synthetic */ C34602l f179282e;

        /* renamed from: f */
        final /* synthetic */ String f179283f;

        static {
            Covode.recordClassIndex(93203);
        }

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        C79976b(C79974a aVar, String str, String str2, String str3, C34602l lVar, String str4) {
            super(0);
            this.f179278a = aVar;
            this.f179279b = str;
            this.f179280c = str2;
            this.f179281d = str3;
            this.f179282e = lVar;
            this.f179283f = str4;
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        @Override // p4600h.p4611f.p4612a.AbstractC89171a
        public final /* synthetic */ C89391z invoke() {
            this.f179278a.mo123459a((String) null);
            return C89391z.f203057a;
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.upvote.publish.b.a$c */
    static final class C79977c extends AbstractC89220m implements AbstractC89171a<C89391z> {

        /* renamed from: a */
        final /* synthetic */ C79974a f179284a;

        /* renamed from: b */
        final /* synthetic */ String f179285b;

        /* renamed from: c */
        final /* synthetic */ String f179286c;

        /* renamed from: d */
        final /* synthetic */ String f179287d;

        /* renamed from: e */
        final /* synthetic */ C34602l f179288e;

        /* renamed from: f */
        final /* synthetic */ String f179289f;

        static {
            Covode.recordClassIndex(93204);
        }

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        C79977c(C79974a aVar, String str, String str2, String str3, C34602l lVar, String str4) {
            super(0);
            this.f179284a = aVar;
            this.f179285b = str;
            this.f179286c = str2;
            this.f179287d = str3;
            this.f179288e = lVar;
            this.f179289f = str4;
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        @Override // p4600h.p4611f.p4612a.AbstractC89171a
        public final /* synthetic */ C89391z invoke() {
            this.f179284a.mo123459a("üëè");
            return C89391z.f203057a;
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.upvote.publish.b.a$d */
    static final class C79978d extends AbstractC89220m implements AbstractC89171a<C89391z> {

        /* renamed from: a */
        final /* synthetic */ C79974a f179290a;

        /* renamed from: b */
        final /* synthetic */ String f179291b;

        /* renamed from: c */
        final /* synthetic */ String f179292c;

        /* renamed from: d */
        final /* synthetic */ String f179293d;

        /* renamed from: e */
        final /* synthetic */ C34602l f179294e;

        /* renamed from: f */
        final /* synthetic */ String f179295f;

        static {
            Covode.recordClassIndex(93205);
        }

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        C79978d(C79974a aVar, String str, String str2, String str3, C34602l lVar, String str4) {
            super(0);
            this.f179290a = aVar;
            this.f179291b = str;
            this.f179292c = str2;
            this.f179293d = str3;
            this.f179294e = lVar;
            this.f179295f = str4;
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        @Override // p4600h.p4611f.p4612a.AbstractC89171a
        public final /* synthetic */ C89391z invoke() {
            this.f179290a.mo123459a("üòç");
            return C89391z.f203057a;
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.upvote.publish.b.a$e */
    static final class C79979e extends AbstractC89220m implements AbstractC89171a<C89391z> {

        /* renamed from: a */
        final /* synthetic */ C79974a f179296a;

        /* renamed from: b */
        final /* synthetic */ String f179297b;

        /* renamed from: c */
        final /* synthetic */ String f179298c;

        /* renamed from: d */
        final /* synthetic */ String f179299d;

        /* renamed from: e */
        final /* synthetic */ C34602l f179300e;

        /* renamed from: f */
        final /* synthetic */ String f179301f;

        static {
            Covode.recordClassIndex(93206);
        }

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        C79979e(C79974a aVar, String str, String str2, String str3, C34602l lVar, String str4) {
            super(0);
            this.f179296a = aVar;
            this.f179297b = str;
            this.f179298c = str2;
            this.f179299d = str3;
            this.f179300e = lVar;
            this.f179301f = str4;
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        @Override // p4600h.p4611f.p4612a.AbstractC89171a
        public final /* bridge */ /* synthetic */ C89391z invoke() {
            AbstractC89171a<C89391z> aVar = this.f179296a.f179272a;
            if (aVar != null) {
                aVar.invoke();
            }
            return C89391z.f203057a;
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.upvote.publish.b.a$f */
    static final class C79980f extends AbstractC89220m implements AbstractC89171a<C79964d> {

        /* renamed from: a */
        final /* synthetic */ C79974a f179302a;

        static {
            Covode.recordClassIndex(93207);
        }

        /* JADX INFO: super call moved to the top of the method (can break code semantics) */
        C79980f(C79974a aVar) {
            super(0);
            this.f179302a = aVar;
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        @Override // p4600h.p4611f.p4612a.AbstractC89171a
        public final /* synthetic */ C79964d invoke() {
            String b;
            C79974a aVar = this.f179302a;
            String str = (String) C79706b.m138537a("upvote_comment_recommended.json", "upvote_comment_reposted.json");
            String b2 = C34722h.m70923b(((Number) C79706b.m138537a(Integer.valueOf((int) R.string.f6k), Integer.valueOf((int) R.string.fat))).intValue());
            if (!C79895a.m138661b()) {
                b = C34722h.m70923b(((Number) C79706b.m138537a(Integer.valueOf((int) R.string.f6_), Integer.valueOf((int) R.string.fap))).intValue());
            } else {
                b = C34722h.m70923b(((Number) C79706b.m138537a(Integer.valueOf((int) R.string.f6l), Integer.valueOf((int) R.string.fau))).intValue());
            }
            IAccountUserService g = C31575b.m65865g();
            C89219l.m154716b(g, "");
            User curUser = g.getCurUser();
            C89219l.m154716b(curUser, "");
            C34602l a = C34735v.m70965a(curUser.getAvatarThumb());
            String b3 = C34722h.m70923b(R.string.f69);
            C79964d dVar = new C79964d(aVar.f179273b, (byte) 0);
            dVar.setAnimFile(str);
            C89219l.m154716b(b2, "");
            dVar.setTitle(b2);
            C89219l.m154716b(b, "");
            dVar.setDesc(b);
            dVar.setAvatar(a);
            C89219l.m154716b(b3, "");
            C79976b bVar = new C79976b(aVar, str, b2, b, a, b3);
            C89219l.m154721d(b3, "");
            TuxEditText tuxEditText = (TuxEditText) dVar.findViewById(R.id.ax0);
            C89219l.m154716b(tuxEditText, "");
            tuxEditText.setHint(b3);
            tuxEditText.setOnClickListener(new C79964d.View$OnClickListenerC79965a(b3, bVar));
            C79977c cVar = new C79977c(aVar, str, b2, b, a, b3);
            C89219l.m154721d("üëè", "");
            TuxTextView tuxTextView = (TuxTextView) dVar.findViewById(R.id.eyd);
            tuxTextView.setText("üëè");
            tuxTextView.setOnClickListener(new C79964d.View$OnClickListenerC79966b("üëè", cVar));
            C79978d dVar2 = new C79978d(aVar, str, b2, b, a, b3);
            C89219l.m154721d("üòç", "");
            TuxTextView tuxTextView2 = (TuxTextView) dVar.findViewById(R.id.f2t);
            tuxTextView2.setText("üòç");
            tuxTextView2.setOnClickListener(new C79964d.View$OnClickListenerC79967c("üòç", dVar2));
            C79979e eVar = new C79979e(aVar, str, b2, b, a, b3);
            C89219l.m154721d(eVar, "");
            ((TuxIconView) dVar.findViewById(R.id.bu5)).setOnClickListener(new C79964d.View$OnClickListenerC79969e(eVar));
            if (C79895a.m138663d() < 5) {
                dVar.f179257g = true;
                C79895a.m138659a().storeInt(C79895a.m138660a("publish_anim_shown_count_"), C79895a.m138663d() + 1);
            }
            return dVar;
        }
    }

    /* renamed from: a */
    public final void mo123458a(AbstractC89171a<C89391z> aVar) {
        C89219l.m154721d(aVar, "");
        this.f179274d = aVar;
    }

    /* renamed from: b */
    public final void mo123460b(AbstractC89171a<C89391z> aVar) {
        C89219l.m154721d(aVar, "");
        this.f179272a = aVar;
    }

    /* renamed from: a */
    public final void mo123459a(String str) {
        boolean z;
        ActivityC0945e eVar;
        Activity activity;
        LinkedHashMap linkedHashMap = new LinkedHashMap();
        linkedHashMap.put("enter_from", this.f179277g.f179137a);
        if (str == null || str.length() == 0) {
            z = true;
        } else {
            z = false;
        }
        if (z) {
            linkedHashMap.put("enter_method", "click_input_box");
        } else {
            linkedHashMap.put("enter_method", "click_emoji");
            linkedHashMap.put("emoji_id", str);
        }
        linkedHashMap.put("group_id", this.f179277g.f179139c);
        linkedHashMap.put("author_id", this.f179277g.f179140d);
        linkedHashMap.put("follow_status", this.f179277g.f179141e);
        C39162r.m79460a("add_recommendation", linkedHashMap);
        AbstractC89171a<C89391z> aVar = this.f179274d;
        if (aVar != null) {
            aVar.invoke();
        }
        Context context = this.f179273b;
        while (true) {
            eVar = null;
            if (context != null) {
                if (!(context instanceof Activity)) {
                    if (!(context instanceof ContextWrapper)) {
                        break;
                    }
                    context = ((ContextWrapper) context).getBaseContext();
                } else {
                    activity = (Activity) context;
                    break;
                }
            } else {
                break;
            }
        }
        activity = null;
        if (activity instanceof ActivityC0945e) {
            eVar = activity;
        }
        ActivityC0945e eVar2 = eVar;
        if (eVar2 != null) {
            String str2 = this.f179276f;
            UpvotePublishMobParam upvotePublishMobParam = this.f179277g;
            C89219l.m154721d(str2, "");
            C89219l.m154721d(upvotePublishMobParam, "");
            C79926a aVar2 = new C79926a();
            Bundle bundle = new Bundle();
            bundle.putString("upvote_item_id", str2);
            bundle.putString("emoji_text", str);
            bundle.putParcelable("mob_param", upvotePublishMobParam);
            aVar2.setArguments(bundle);
            aVar2.show(eVar2.getSupportFragmentManager(), "UpvoteCommentDialogFragment");
        }
    }

    public C79974a(Context context, String str, UpvotePublishMobParam upvotePublishMobParam) {
        C89219l.m154721d(context, "");
        C89219l.m154721d(str, "");
        C89219l.m154721d(upvotePublishMobParam, "");
        this.f179273b = context;
        this.f179276f = str;
        this.f179277g = upvotePublishMobParam;
    }
}
