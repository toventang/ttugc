package com.p2082ss.android.ugc.aweme.account.login.trusted;

import android.content.Context;
import android.text.TextUtils;
import com.bytedance.covode.number.Covode;
import com.p2082ss.android.deviceregister.DeviceRegisterManager;
import com.p2082ss.android.ugc.aweme.AbstractC34889bn;
import com.p2082ss.android.ugc.aweme.C36085cj;
import com.p2082ss.android.ugc.aweme.account.login.C31975q;
import com.p2082ss.android.ugc.aweme.lego.AbstractC58259r;
import com.p2082ss.android.ugc.aweme.lego.AbstractC58260s;
import com.p2082ss.android.ugc.aweme.lego.EnumC58147aa;
import com.p2082ss.android.ugc.aweme.lego.EnumC58148ab;
import com.p2082ss.android.ugc.aweme.lego.EnumC58150ad;
import com.p2082ss.android.ugc.aweme.user.C80036a;
import com.p2082ss.android.ugc.aweme.user.C80061e;
import com.p2082ss.android.ugc.aweme.user.C80064f;
import java.util.List;
import p4600h.C89391z;
import p4600h.p4611f.p4612a.AbstractC89172b;
import p4600h.p4611f.p4613b.AbstractC89220m;
import p4600h.p4611f.p4613b.C89219l;

/* renamed from: com.ss.android.ugc.aweme.account.login.trusted.b */
public final class C32089b implements AbstractC58259r {

    /* renamed from: a */
    public static final C32090a f76577a = new C32090a((byte) 0);

    static {
        Covode.recordClassIndex(38848);
    }

    @Override // com.p2082ss.android.ugc.aweme.lego.AbstractC58252n
    /* renamed from: a */
    public final void mo28600a(Context context) {
    }

    @Override // com.p2082ss.android.ugc.aweme.lego.AbstractC58252n
    public final int bQ_() {
        return 1048575;
    }

    @Override // com.p2082ss.android.ugc.aweme.lego.AbstractC58252n
    /* renamed from: f */
    public final EnumC58150ad mo28606f() {
        return AbstractC58260s.m105199a(this);
    }

    @Override // com.p2082ss.android.ugc.aweme.lego.AbstractC58252n
    /* renamed from: g */
    public final String mo28607g() {
        return "request_";
    }

    @Override // com.p2082ss.android.ugc.aweme.lego.AbstractC58252n
    /* renamed from: i */
    public final boolean mo28609i() {
        return true;
    }

    @Override // com.p2082ss.android.ugc.aweme.lego.AbstractC58252n
    /* renamed from: j */
    public final List mo28610j() {
        return null;
    }

    /* renamed from: com.ss.android.ugc.aweme.account.login.trusted.b$a */
    static final class C32090a {
        static {
            Covode.recordClassIndex(38849);
        }

        private C32090a() {
        }

        public /* synthetic */ C32090a(byte b) {
            this();
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.account.login.trusted.b$b */
    public static final class C32091b implements DeviceRegisterManager.AbstractC29864a {
        static {
            Covode.recordClassIndex(38850);
        }

        @Override // com.p2082ss.android.deviceregister.DeviceRegisterManager.AbstractC29864a
        /* renamed from: a */
        public final void mo29065a(boolean z) {
        }

        @Override // com.p2082ss.android.deviceregister.DeviceRegisterManager.AbstractC29864a
        /* renamed from: a */
        public final void mo29066a(boolean z, boolean z2) {
        }

        C32091b() {
        }

        /* renamed from: com.ss.android.ugc.aweme.account.login.trusted.b$b$a */
        static final class C32092a extends AbstractC89220m implements AbstractC89172b<C32107j, C89391z> {

            /* renamed from: a */
            public static final C32092a f76578a = new C32092a();

            static {
                Covode.recordClassIndex(38851);
            }

            C32092a() {
                super(1);
            }

            /* Return type fixed from 'java.lang.Object' to match base method */
            /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
            @Override // p4600h.p4611f.p4612a.AbstractC89172b
            public final /* bridge */ /* synthetic */ C89391z invoke(C32107j jVar) {
                return C89391z.f203057a;
            }
        }

        @Override // com.p2082ss.android.deviceregister.DeviceRegisterManager.AbstractC29864a
        /* renamed from: a */
        public final void mo29064a(String str, String str2) {
            TrustedEnvApi.m66469a(C32092a.f76578a);
        }
    }

    @Override // com.p2082ss.android.ugc.aweme.lego.AbstractC58259r
    /* renamed from: b */
    public final EnumC58147aa mo58051b() {
        return EnumC58147aa.NORMAL;
    }

    @Override // com.p2082ss.android.ugc.aweme.lego.AbstractC58252n
    /* renamed from: k */
    public final EnumC58148ab mo28611k() {
        return EnumC58148ab.DEFAULT;
    }

    @Override // com.p2082ss.android.ugc.aweme.lego.AbstractC58252n
    /* renamed from: h */
    public final String mo28608h() {
        return getClass().getSimpleName();
    }

    /* renamed from: com.ss.android.ugc.aweme.account.login.trusted.b$c */
    static final class C32093c extends AbstractC89220m implements AbstractC89172b<C32107j, C89391z> {

        /* renamed from: a */
        public static final C32093c f76579a = new C32093c();

        static {
            Covode.recordClassIndex(38852);
        }

        C32093c() {
            super(1);
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
        @Override // p4600h.p4611f.p4612a.AbstractC89172b
        public final /* bridge */ /* synthetic */ C89391z invoke(C32107j jVar) {
            return C89391z.f203057a;
        }
    }

    /* renamed from: com.ss.android.ugc.aweme.account.login.trusted.b$d */
    static final class C32094d extends AbstractC89220m implements AbstractC89172b<Integer, C89391z> {

        /* renamed from: a */
        public static final C32094d f76580a = new C32094d();

        static {
            Covode.recordClassIndex(38853);
        }

        C32094d() {
            super(1);
        }

        /* Return type fixed from 'java.lang.Object' to match base method */
        /* JADX DEBUG: Method arguments types fixed to match base method, original types: [java.lang.Object] */
        @Override // p4600h.p4611f.p4612a.AbstractC89172b
        public final /* synthetic */ C89391z invoke(Integer num) {
            int i;
            int intValue = num.intValue();
            if (intValue != -1 && intValue == 0) {
                boolean saveLoginStatus = C36085cj.f85262b.mo57075k().getSaveLoginStatus();
                AbstractC34889bn k = C36085cj.f85262b.mo57075k();
                if (saveLoginStatus) {
                    i = 1;
                } else {
                    i = 2;
                }
                k.updateLoginHistoryState(i, null);
            }
            return C89391z.f203057a;
        }
    }

    @Override // com.p2082ss.android.ugc.aweme.lego.AbstractC58259r
    /* renamed from: a */
    public final void mo58050a(Context context, boolean z) {
        C89219l.m154721d(context, "");
        if (!C31975q.m66357b() && C32106i.m66489a().getLong("last_success_fetch", 0) <= 0) {
            if (TextUtils.isEmpty(DeviceRegisterManager.getDeviceId())) {
                DeviceRegisterManager.addOnDeviceConfigUpdateListener(new C32091b());
            } else {
                TrustedEnvApi.m66469a(C32093c.f76579a);
            }
        }
        if (C80064f.m138815a(C80061e.f179403k.mo123508a())) {
            AbstractC34889bn k = C36085cj.f85262b.mo57075k();
            C89219l.m154716b(k, "");
            int a = C80036a.m138775a(C80061e.f179403k.mo123517e());
            if (a == 0 || a == -1) {
                k.fetchLoginHistoryState(null, C32094d.f76580a);
            }
        }
    }
}
